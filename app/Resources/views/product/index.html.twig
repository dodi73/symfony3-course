{% extends 'base.html.twig' %}

{% block body %}
    <h2>Product list</h2>
    <div class="row" ng-app="productApp">
        <div ng-controller="productCtrl" class="col-xs-10 col-xs-offset-1">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th
                           ng-repeat="(key, val) in products[0]"
                           ng-bind="key">
                        </th>
                        <th>
                            command
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td ng-repeat="(key, val) in products[0]">
                            <input ng-model="newProduct[key]" type="text" class="form-control">
                        </td>
                        <td>
                            <button class="btn btn-success"
                            ng-click="createProduct()">New</button>
                        </td>
                    </tr>
                    <tr ng-repeat="product in products">
                        <td ng-repeat="cell in product" ng-bind="cell"></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    <script src="{{ asset('bower_components/angular/angular.js') }}"></script>
    <script src="{{ asset('js/product.js') }}"></script>
{% endblock %}


